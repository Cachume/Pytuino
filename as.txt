ruta_archivo = "cache/logs/" + "aasdasd" + ".txt"
        archivouser = open(ruta_archivo, 'a+')
        opcion= "asd"
        valors= "0000"
        funcion_a="asd"
        if not self.estado:
            if opcion == "Encender Todos":
                print('et')
                funcion_a = ["et",".png"]
            elif opcion == "Parpadeo":
                funcion_a = ["p",".gif"]
            valors = ""
            imagen=funcion_a[0]+"/"+valors+funcion_a[1]
            print(imagen)
            if funcion_a[1]== ".gif":
                gif = Image.open(imagen)
                frames = [frame.copy() for frame in ImageSequence.Iterator(gif)]
                current_frame = 0
                self.should_continue = True
                self.update_animation(self.ledimg, frames, current_frame)
                archivouser.write('\n[' + self.obtenerfecha() + '] El usuario ha iniciado los led en modo '+ funcion_a[0])
            else:
                self.imagen = PhotoImage(file=imagen)
                self.ledimg.config(image=self.imagen)
                archivouser.write('\n[' + self.obtenerfecha() + '] El usuario ha iniciado los led en modo '+ funcion_a[0])    
            self.seleccionar_puerto["state"] = "disabled"
            for led in self.leds:
                led["state"] = "disabled"
            self.botona["state"]= "disabled"
            self.accionb.config(text="Detener", fg="red")
            if self.estadoarduino == True:
                comando2 = "Leds/"+funcion_a[0]+"/"+valors
                print(comando2)
                self.arduino.write(comando2.encode())
            self.estado=True
        else:
            self.seleccionar_puerto["state"] = "normal"
            for led in self.leds:
                led["state"] = "normal"
            self.botona["state"]= "normal"
            self.accionb.config(text="Empezar", fg="green")
            self.imagen = PhotoImage(file="et/0000.png")
            self.ledimg.config(image=self.imagen)
            if self.estadoarduino == True:
                comando2 = "Leds/et/0000"
                print(comando2)
                self.arduino.write(comando2.encode())
            archivouser.write('\n[' + self.obtenerfecha() + '] El usuario ha detenido los leds')
            self.estado=False
            self.should_continue = False
        archivouser.close()